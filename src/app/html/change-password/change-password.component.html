<app-go-back [titleDetails]='"修改密码"'></app-go-back>
<div class="info">
    <div class="remind">
        <img src="../../../assets/imgs/remind.png" />
        <span class="f_a">
        请输入6位以上的数字或字母，不支持特殊字符
      </span>
    </div>
    <form class="cipher_box" nz-form [formGroup]='changePassWord' (submit)="onChangeSubmit()">
        <div nz-form-item>
            <div nz-form-control [nzValidateStatus]="changePassWord.controls.sp">
                <input class="input_box" placeholder="输入原密码" type="password" formControlName='sp'>
                <div nz-form-explain *ngIf="changePassWord.controls.sp.dirty&&changePassWord.controls.sp.hasError('required')">请输入原密码!</div>
            </div>
        </div>
        <div formGroupName="password">
            <div nz-form-item>
                <div nz-form-control [nzValidateStatus]="changePassWord.controls.np">
                    <input class="input_box" placeholder="输入新密码" type="password" formControlName='np'>
                    <div nz-form-explain *ngIf="changePassWord.get('password').get('np').dirty&&changePassWord.get('password').get('np').hasError('required')">请输入新密码!</div>
                    <div nz-form-explain *ngIf="changePassWord.get('password').get('np').dirty&&changePassWord.get('password').get('np').hasError('minlength')">密码位数大于6位!</div>
                    <div nz-form-explain *ngIf="changePassWord.get('password').get('np').dirty&&changePassWord.get('password').get('np').hasError('pattern')">只能输入英文数字!</div>
                </div>

            </div>
            <div nz-form-item>
                <div nz-form-control [nzValidateStatus]="changePassWord.controls.anp">
                    <input class="input_box" placeholder="确认新密码" type="password" formControlName='anp'>
                    <div nz-form-explain *ngIf="changePassWord.controls.password.get('anp').dirty&&changePassWord.get('password').get('anp').hasError('required')">再次输入新密码!</div>
                    <div nz-form-explain *ngIf="changePassWord.controls.password.get('anp').dirty&&!changePassWord.get('password').get('anp').hasError('passWordValidator')">
                        {{changePassWord.getError('passValidator','password')?.info}}
                    </div>
                </div>

            </div>
        </div>
        <input class="determine" value="确定" type="submit" [disabled]='!this.changePassWord.valid' [ngClass]="{'determinedis':!this.changePassWord.valid}">
    </form>

</div>

<app-loading [isInput]='isLoading'></app-loading>